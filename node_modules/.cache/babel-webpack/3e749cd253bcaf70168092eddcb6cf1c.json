{"ast":null,"code":"'use strict';\n\nvar getSideChannel = require('side-channel');\n\nvar utils = require('./utils');\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar arrayPrefixGenerators = {\n  brackets: function brackets(prefix) {\n    return prefix + '[]';\n  },\n  comma: 'comma',\n  indices: function indices(prefix, key) {\n    return prefix + '[' + key + ']';\n  },\n  repeat: function repeat(prefix) {\n    return prefix;\n  }\n};\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\n\nvar pushToArray = function pushToArray(arr, valueOrArray) {\n  push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\nvar defaultFormat = formats['default'];\nvar defaults = {\n  addQueryPrefix: false,\n  allowDots: false,\n  allowEmptyArrays: false,\n  arrayFormat: 'indices',\n  charset: 'utf-8',\n  charsetSentinel: false,\n  commaRoundTrip: false,\n  delimiter: '&',\n  encode: true,\n  encodeDotInKeys: false,\n  encoder: utils.encode,\n  encodeValuesOnly: false,\n  filter: void undefined,\n  format: defaultFormat,\n  formatter: formats.formatters[defaultFormat],\n  // deprecated\n  indices: false,\n  serializeDate: function serializeDate(date) {\n    return toISO.call(date);\n  },\n  skipNulls: false,\n  strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n  return typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean' || typeof v === 'symbol' || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n  var obj = object;\n  var tmpSc = sideChannel;\n  var step = 0;\n  var findFlag = false;\n\n  while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n    // Where object last appeared in the ref tree\n    var pos = tmpSc.get(object);\n    step += 1;\n\n    if (typeof pos !== 'undefined') {\n      if (pos === step) {\n        throw new RangeError('Cyclic object value');\n      } else {\n        findFlag = true; // Break while\n      }\n    }\n\n    if (typeof tmpSc.get(sentinel) === 'undefined') {\n      step = 0;\n    }\n  }\n\n  if (typeof filter === 'function') {\n    obj = filter(prefix, obj);\n  } else if (obj instanceof Date) {\n    obj = serializeDate(obj);\n  } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n    obj = utils.maybeMap(obj, function (value) {\n      if (value instanceof Date) {\n        return serializeDate(value);\n      }\n\n      return value;\n    });\n  }\n\n  if (obj === null) {\n    if (strictNullHandling) {\n      return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n    }\n\n    obj = '';\n  }\n\n  if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n    if (encoder) {\n      var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n      return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n    }\n\n    return [formatter(prefix) + '=' + formatter(String(obj))];\n  }\n\n  var values = [];\n\n  if (typeof obj === 'undefined') {\n    return values;\n  }\n\n  var objKeys;\n\n  if (generateArrayPrefix === 'comma' && isArray(obj)) {\n    // we need to join elements in\n    if (encodeValuesOnly && encoder) {\n      obj = utils.maybeMap(obj, encoder);\n    }\n\n    objKeys = [{\n      value: obj.length > 0 ? obj.join(',') || null : void undefined\n    }];\n  } else if (isArray(filter)) {\n    objKeys = filter;\n  } else {\n    var keys = Object.keys(obj);\n    objKeys = sort ? keys.sort(sort) : keys;\n  }\n\n  var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n  var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n  if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n    return adjustedPrefix + '[]';\n  }\n\n  for (var j = 0; j < objKeys.length; ++j) {\n    var key = objKeys[j];\n    var value = typeof key === 'object' && key && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n    if (skipNulls && value === null) {\n      continue;\n    }\n\n    var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n    var keyPrefix = isArray(obj) ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n    sideChannel.set(object, step);\n    var valueSideChannel = getSideChannel();\n    valueSideChannel.set(sentinel, sideChannel);\n    pushToArray(values, stringify(value, keyPrefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n  }\n\n  return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n  if (!opts) {\n    return defaults;\n  }\n\n  if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n    throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n  }\n\n  if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n    throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n  }\n\n  if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n    throw new TypeError('Encoder has to be a function.');\n  }\n\n  var charset = opts.charset || defaults.charset;\n\n  if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n    throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n  }\n\n  var format = formats['default'];\n\n  if (typeof opts.format !== 'undefined') {\n    if (!has.call(formats.formatters, opts.format)) {\n      throw new TypeError('Unknown format option provided.');\n    }\n\n    format = opts.format;\n  }\n\n  var formatter = formats.formatters[format];\n  var filter = defaults.filter;\n\n  if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n    filter = opts.filter;\n  }\n\n  var arrayFormat;\n\n  if (opts.arrayFormat in arrayPrefixGenerators) {\n    arrayFormat = opts.arrayFormat;\n  } else if ('indices' in opts) {\n    arrayFormat = opts.indices ? 'indices' : 'repeat';\n  } else {\n    arrayFormat = defaults.arrayFormat;\n  }\n\n  if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n    throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n  }\n\n  var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n  return {\n    addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n    allowDots: allowDots,\n    allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n    arrayFormat: arrayFormat,\n    charset: charset,\n    charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n    commaRoundTrip: !!opts.commaRoundTrip,\n    delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n    encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n    encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n    encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n    encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n    filter: filter,\n    format: format,\n    formatter: formatter,\n    serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n    skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n    sort: typeof opts.sort === 'function' ? opts.sort : null,\n    strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n  };\n};\n\nmodule.exports = function (object, opts) {\n  var obj = object;\n  var options = normalizeStringifyOptions(opts);\n  var objKeys;\n  var filter;\n\n  if (typeof options.filter === 'function') {\n    filter = options.filter;\n    obj = filter('', obj);\n  } else if (isArray(options.filter)) {\n    filter = options.filter;\n    objKeys = filter;\n  }\n\n  var keys = [];\n\n  if (typeof obj !== 'object' || obj === null) {\n    return '';\n  }\n\n  var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n  var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n  if (!objKeys) {\n    objKeys = Object.keys(obj);\n  }\n\n  if (options.sort) {\n    objKeys.sort(options.sort);\n  }\n\n  var sideChannel = getSideChannel();\n\n  for (var i = 0; i < objKeys.length; ++i) {\n    var key = objKeys[i];\n    var value = obj[key];\n\n    if (options.skipNulls && value === null) {\n      continue;\n    }\n\n    pushToArray(keys, stringify(value, key, generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n  }\n\n  var joined = keys.join(options.delimiter);\n  var prefix = options.addQueryPrefix === true ? '?' : '';\n\n  if (options.charsetSentinel) {\n    if (options.charset === 'iso-8859-1') {\n      // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n      prefix += 'utf8=%26%2310003%3B&';\n    } else {\n      // encodeURIComponent('✓')\n      prefix += 'utf8=%E2%9C%93&';\n    }\n  }\n\n  return joined.length > 0 ? prefix + joined : '';\n};","map":{"version":3,"sources":["C:/Users/Thiago-510/CascadeProjects/portfolio-thiago-duarte/node_modules/qs/lib/stringify.js"],"names":["getSideChannel","require","utils","formats","has","Object","prototype","hasOwnProperty","arrayPrefixGenerators","brackets","prefix","comma","indices","key","repeat","isArray","Array","push","pushToArray","arr","valueOrArray","apply","toISO","Date","toISOString","defaultFormat","defaults","addQueryPrefix","allowDots","allowEmptyArrays","arrayFormat","charset","charsetSentinel","commaRoundTrip","delimiter","encode","encodeDotInKeys","encoder","encodeValuesOnly","filter","undefined","format","formatter","formatters","serializeDate","date","call","skipNulls","strictNullHandling","isNonNullishPrimitive","v","sentinel","stringify","object","generateArrayPrefix","sort","sideChannel","obj","tmpSc","step","findFlag","get","pos","RangeError","maybeMap","value","isBuffer","keyValue","String","values","objKeys","length","join","keys","encodedPrefix","replace","adjustedPrefix","j","encodedKey","keyPrefix","set","valueSideChannel","normalizeStringifyOptions","opts","TypeError","module","exports","options","i","joined"],"mappings":"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","sourcesContent":["'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    commaRoundTrip: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    filter: void undefined,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && key && typeof key.value !== 'undefined'\n            ? key.value\n            : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? String(key).replace(/\\./g, '%2E') : String(key);\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (options.skipNulls && value === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            value,\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n"]},"metadata":{},"sourceType":"script"}